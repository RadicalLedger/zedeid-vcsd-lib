var a3_0x16d1c8=a3_0x7292;function a3_0xa196(){var _0x4b6000=['At\x20least\x20one\x20credential\x20is\x20not\x20valid\x0a','publicKeyCreate','Signer','type','defineProperty','credentials','verifyVC','sign','default','generateMaskedClaims','1etABsR','3397800gVoIXz','did:ethr:','ERRORS','7vRyrIg','112588inEYkt','6429750HxPhYg','value','publicKey','string','message','__importDefault','VerifiableCredential','verifySignature','hasOwnProperty','491066rOMHfB','push','includes','present','apply','mask','issuer','2625900PcwFLv','generateSignature','assign','VerifiablePresentation','proof','__esModule','claims','did','subject','__assign','hex','maskedClaims','issue','11IzoHff','checkVcMetaData','51HnRqrj','verify','toString','from','prototype','3425301kPmBqC','base64UrlDecode','checkVpMetaData','generateFullyMaskedClaims','enumerable','get','INVALID_VP_PROOF','length','INVALID_ISSUER_PUBLIC_KEY','4986328vZEQXe','base64UrlEncode'];a3_0xa196=function(){return _0x4b6000;};return a3_0xa196();}(function(_0x58b2fb,_0x370071){var _0x3e6a85=a3_0x7292,_0x25e86b=_0x58b2fb();while(!![]){try{var _0x56570d=parseInt(_0x3e6a85(0x181))/0x1*(parseInt(_0x3e6a85(0x190))/0x2)+parseInt(_0x3e6a85(0x1a6))/0x3*(-parseInt(_0x3e6a85(0x186))/0x4)+-parseInt(_0x3e6a85(0x197))/0x5+-parseInt(_0x3e6a85(0x182))/0x6+-parseInt(_0x3e6a85(0x185))/0x7*(-parseInt(_0x3e6a85(0x1b4))/0x8)+parseInt(_0x3e6a85(0x1ab))/0x9+-parseInt(_0x3e6a85(0x187))/0xa*(-parseInt(_0x3e6a85(0x1a4))/0xb);if(_0x56570d===_0x370071)break;else _0x25e86b['push'](_0x25e86b['shift']());}catch(_0x4865eb){_0x25e86b['push'](_0x25e86b['shift']());}}}(a3_0xa196,0x4eb69));function a3_0x7292(_0x309459,_0x1ff67e){var _0xa196f3=a3_0xa196();return a3_0x7292=function(_0x7292b2,_0x238d11){_0x7292b2=_0x7292b2-0x17c;var _0x525a70=_0xa196f3[_0x7292b2];return _0x525a70;},a3_0x7292(_0x309459,_0x1ff67e);}var __assign=this&&this[a3_0x16d1c8(0x1a0)]||function(){var _0x16e804=a3_0x16d1c8;return __assign=Object[_0x16e804(0x199)]||function(_0x1f8997){var _0x2940f5=_0x16e804;for(var _0x1688fc,_0x2ae275=0x1,_0x3a9ec2=arguments[_0x2940f5(0x1b2)];_0x2ae275<_0x3a9ec2;_0x2ae275++){_0x1688fc=arguments[_0x2ae275];for(var _0x3c45e6 in _0x1688fc)if(Object[_0x2940f5(0x1aa)][_0x2940f5(0x18f)]['call'](_0x1688fc,_0x3c45e6))_0x1f8997[_0x3c45e6]=_0x1688fc[_0x3c45e6];}return _0x1f8997;},__assign[_0x16e804(0x194)](this,arguments);},__importDefault=this&&this[a3_0x16d1c8(0x18c)]||function(_0x56c386){var _0x25eaab=a3_0x16d1c8;return _0x56c386&&_0x56c386[_0x25eaab(0x19c)]?_0x56c386:{'default':_0x56c386};},a3_0x3736b7={};a3_0x3736b7[a3_0x16d1c8(0x188)]=!![],Object[a3_0x16d1c8(0x1ba)](exports,a3_0x16d1c8(0x19c),a3_0x3736b7),exports[a3_0x16d1c8(0x1b8)]=exports['ERRORS']=exports[a3_0x16d1c8(0x1ac)]=exports[a3_0x16d1c8(0x1b5)]=exports[a3_0x16d1c8(0x17d)]=exports[a3_0x16d1c8(0x1a7)]=exports[a3_0x16d1c8(0x193)]=exports[a3_0x16d1c8(0x1a3)]=void 0x0;var secp256k1_1=require('secp256k1'),ethereum_public_key_to_address_1=__importDefault(require('ethereum-public-key-to-address')),utils_1=require('./utils');function issue(_0x2fb49b,_0x3fbe76,_0x4c319f){var _0xed4534=a3_0x16d1c8;if(typeof _0x2fb49b===_0xed4534(0x18a)){var _0xb7cd2d=_0x2fb49b,_0x1dc1b8={},_0x366014=(0x0,utils_1['generateFullyMaskedClaims'])(_0x3fbe76,_0x1dc1b8,_0x4c319f),_0x251a0b=Buffer['from'](_0xb7cd2d,_0xed4534(0x1a1)),_0x67d62a=Buffer['from']((0x0,secp256k1_1[_0xed4534(0x1b7)])(_0x251a0b)),_0x1c927c=_0x67d62a[_0xed4534(0x1a8)](_0xed4534(0x1a1)),_0x29ed90='did:ethr:'+(0x0,ethereum_public_key_to_address_1[_0xed4534(0x17f)])(_0x1c927c),_0x58343f=_0xed4534(0x183)+(0x0,ethereum_public_key_to_address_1[_0xed4534(0x17f)])(_0x4c319f),_0x141bc2={};_0x141bc2['did']=_0x29ed90,_0x141bc2[_0xed4534(0x189)]=_0x1c927c;var _0x2b877d={};_0x2b877d[_0xed4534(0x19e)]=_0x58343f,_0x2b877d[_0xed4534(0x189)]=_0x4c319f;var _0x86db2d={};_0x86db2d[_0xed4534(0x1b9)]=_0xed4534(0x18d),_0x86db2d[_0xed4534(0x196)]=_0x141bc2,_0x86db2d[_0xed4534(0x19f)]=_0x2b877d,_0x86db2d[_0xed4534(0x19d)]=_0x366014;var _0x5611c1=_0x86db2d,_0x19b486=(0x0,utils_1['generateSignature'])(_0x5611c1,_0xb7cd2d),_0x5a3b92={};_0x5a3b92[_0xed4534(0x19d)]=_0x3fbe76,_0x5a3b92[_0xed4534(0x195)]=_0x1dc1b8,_0x5a3b92[_0xed4534(0x19b)]=_0x19b486;var _0x8ccc43=__assign(__assign({},_0x5611c1),_0x5a3b92);return _0x8ccc43;}else{if(_0x2fb49b instanceof utils_1['Signer']){var _0x1dc1b8={},_0x366014=(0x0,utils_1[_0xed4534(0x1ae)])(_0x3fbe76,_0x1dc1b8,_0x4c319f),_0x1c927c=_0x2fb49b[_0xed4534(0x189)],_0x29ed90='did:ethr:'+(0x0,ethereum_public_key_to_address_1[_0xed4534(0x17f)])(_0x1c927c),_0x58343f=_0xed4534(0x183)+(0x0,ethereum_public_key_to_address_1[_0xed4534(0x17f)])(_0x4c319f),_0x574fbd={};_0x574fbd['did']=_0x29ed90,_0x574fbd[_0xed4534(0x189)]=_0x1c927c;var _0x245abe={};_0x245abe[_0xed4534(0x19e)]=_0x58343f,_0x245abe[_0xed4534(0x189)]=_0x4c319f;var _0x565604={};_0x565604[_0xed4534(0x1b9)]=_0xed4534(0x18d),_0x565604[_0xed4534(0x196)]=_0x574fbd,_0x565604['subject']=_0x245abe,_0x565604[_0xed4534(0x19d)]=_0x366014;var _0x5611c1=_0x565604,_0x19b486=_0x2fb49b['sign'](_0x5611c1),_0x31cf2b={};_0x31cf2b['claims']=_0x3fbe76,_0x31cf2b[_0xed4534(0x195)]=_0x1dc1b8,_0x31cf2b[_0xed4534(0x19b)]=_0x19b486;var _0x8ccc43=__assign(__assign({},_0x5611c1),_0x31cf2b);return _0x8ccc43;}}}exports[a3_0x16d1c8(0x1a3)]=issue;function present(_0x262bfc,_0x154b9a,_0x199860){var _0x270481=a3_0x16d1c8;if(typeof _0x262bfc===_0x270481(0x18a)){var _0x58c6a4=_0x262bfc,_0x763c8d=[],_0x43130e=Buffer[_0x270481(0x1a9)](_0x58c6a4,_0x270481(0x1a1)),_0x4e6442=Buffer[_0x270481(0x1a9)]((0x0,secp256k1_1[_0x270481(0x1b7)])(_0x43130e)),_0x1c7535=_0x4e6442['toString'](_0x270481(0x1a1));for(var _0x3d2643=0x0;_0x3d2643<_0x154b9a[_0x270481(0x1b2)];_0x3d2643++){var _0x3b3a71=_0x154b9a[_0x3d2643],_0x3388ca=_0x3b3a71[_0x270481(0x19d)],_0x281d0b=_0x199860[_0x3d2643],_0x5c80df=(0x0,utils_1['generateMaskedClaims'])(_0x3388ca,_0x281d0b,_0x1c7535),_0x4977c0=_0x5c80df[_0x270481(0x1a2)],_0x2712ec=_0x5c80df['mask'],_0x2deccd={};_0x2deccd[_0x270481(0x19d)]=_0x4977c0,_0x2deccd['mask']=_0x2712ec;var _0x47025c=__assign(__assign({},_0x3b3a71),_0x2deccd);_0x763c8d[_0x270481(0x191)](_0x47025c);}var _0x174d90=(0x0,ethereum_public_key_to_address_1[_0x270481(0x17f)])(_0x1c7535),_0xfb341={};_0xfb341[_0x270481(0x19e)]='did:ethr:'+_0x174d90,_0xfb341[_0x270481(0x189)]=_0x1c7535;var _0x57cc4a={};_0x57cc4a[_0x270481(0x1b9)]=_0x270481(0x19a),_0x57cc4a[_0x270481(0x19f)]=_0xfb341,_0x57cc4a[_0x270481(0x17c)]=_0x763c8d;var _0x3bce33=_0x57cc4a,_0x4928f5=(0x0,utils_1[_0x270481(0x198)])(_0x3bce33,_0x58c6a4),_0x159932={};_0x159932[_0x270481(0x19b)]=_0x4928f5;var _0xdbde43=__assign(__assign({},_0x3bce33),_0x159932);return _0xdbde43;}else{if(_0x262bfc instanceof utils_1[_0x270481(0x1b8)]){var _0x763c8d=[],_0x1c7535=_0x262bfc[_0x270481(0x189)];for(var _0x3d2643=0x0;_0x3d2643<_0x154b9a['length'];_0x3d2643++){var _0x3b3a71=_0x154b9a[_0x3d2643],_0x3388ca=_0x3b3a71[_0x270481(0x19d)],_0x281d0b=_0x199860[_0x3d2643],_0x52f5d5=(0x0,utils_1[_0x270481(0x180)])(_0x3388ca,_0x281d0b,_0x1c7535),_0x4977c0=_0x52f5d5['maskedClaims'],_0x2712ec=_0x52f5d5['mask'],_0x235d3a={};_0x235d3a[_0x270481(0x19d)]=_0x4977c0,_0x235d3a[_0x270481(0x195)]=_0x2712ec;var _0x47025c=__assign(__assign({},_0x3b3a71),_0x235d3a);_0x763c8d[_0x270481(0x191)](_0x47025c);}var _0x174d90=(0x0,ethereum_public_key_to_address_1[_0x270481(0x17f)])(_0x1c7535),_0x800ae0={};_0x800ae0[_0x270481(0x19e)]=_0x270481(0x183)+_0x174d90,_0x800ae0[_0x270481(0x189)]=_0x1c7535;var _0xa684ab={};_0xa684ab[_0x270481(0x1b9)]=_0x270481(0x19a),_0xa684ab['subject']=_0x800ae0,_0xa684ab[_0x270481(0x17c)]=_0x763c8d;var _0x3bce33=_0xa684ab,_0x4928f5=_0x262bfc[_0x270481(0x17e)](_0x3bce33),_0x47e835={};_0x47e835[_0x270481(0x19b)]=_0x4928f5;var _0xdbde43=__assign(__assign({},_0x3bce33),_0x47e835);return _0xdbde43;}}}exports['present']=present;function verify(_0x2b81ce,_0xac4ca2,_0x4ec0cd){var _0x1285cb=a3_0x16d1c8;(0x0,utils_1[_0x1285cb(0x1ad)])(_0x2b81ce);var _0x3c27a0=_0x2b81ce[_0x1285cb(0x1b9)],_0x4c61f0=_0x2b81ce[_0x1285cb(0x19f)],_0x50e661=_0x2b81ce[_0x1285cb(0x17c)],_0xb0ddaa=_0x2b81ce[_0x1285cb(0x19b)];for(var _0x486f6a=0x0,_0x52a077=_0x50e661;_0x486f6a<_0x52a077['length'];_0x486f6a++){var _0x402047=_0x52a077[_0x486f6a];if(_0xac4ca2[_0x1285cb(0x192)](_0x402047['issuer'][_0x1285cb(0x189)]))try{verifyVC(_0x402047,_0x402047['issuer']['publicKey'],_0x4ec0cd);}catch(_0x5c33dc){throw Error(_0x1285cb(0x1b6)['concat'](_0x5c33dc[_0x1285cb(0x18b)]));}else throw Error(utils_1[_0x1285cb(0x184)][_0x1285cb(0x1b3)]);}var _0x306568={};_0x306568[_0x1285cb(0x1b9)]=_0x3c27a0,_0x306568[_0x1285cb(0x19f)]=_0x4c61f0,_0x306568[_0x1285cb(0x17c)]=_0x50e661;var _0x4adeda=_0x306568;try{var _0xbf3d81=(0x0,utils_1['verifySignature'])(_0x4adeda,_0xb0ddaa,_0x4ec0cd);return _0xbf3d81;}catch(_0x1070dc){throw Error(utils_1[_0x1285cb(0x184)][_0x1285cb(0x1b1)]);}}exports[a3_0x16d1c8(0x1a7)]=verify;function verifyVC(_0x3cc11a,_0x362e2f,_0x6165a4){var _0x1fb3ab=a3_0x16d1c8;(0x0,utils_1[_0x1fb3ab(0x1a5)])(_0x3cc11a);var _0x2ad6ab=_0x3cc11a[_0x1fb3ab(0x195)]||{},_0x17aa49=_0x3cc11a['claims'],_0x42450c=(0x0,utils_1[_0x1fb3ab(0x1ae)])(_0x17aa49,_0x2ad6ab,_0x6165a4),_0x30a721=_0x3cc11a[_0x1fb3ab(0x1b9)],_0x458f2e=_0x3cc11a[_0x1fb3ab(0x196)],_0x40a354=_0x3cc11a[_0x1fb3ab(0x19f)],_0x432d9b=_0x3cc11a[_0x1fb3ab(0x19b)],_0x272049={};_0x272049[_0x1fb3ab(0x1b9)]=_0x30a721,_0x272049[_0x1fb3ab(0x196)]=_0x458f2e,_0x272049[_0x1fb3ab(0x19f)]=_0x40a354,_0x272049[_0x1fb3ab(0x19d)]=_0x42450c;var _0x41004d=_0x272049;try{var _0x53b545=(0x0,utils_1[_0x1fb3ab(0x18e)])(_0x41004d,_0x432d9b,_0x362e2f);return _0x53b545;}catch(_0x261256){throw Error(utils_1[_0x1fb3ab(0x184)]['INVALID_VC_PROOF']);}}exports[a3_0x16d1c8(0x17d)]=verifyVC;var utils_2=require('./utils'),a3_0x50ab79={};a3_0x50ab79[a3_0x16d1c8(0x1af)]=!![],a3_0x50ab79[a3_0x16d1c8(0x1b0)]=function(){return utils_2['base64UrlEncode'];},Object['defineProperty'](exports,'base64UrlEncode',a3_0x50ab79);var a3_0x37c7f2={};a3_0x37c7f2['enumerable']=!![],a3_0x37c7f2[a3_0x16d1c8(0x1b0)]=function(){var _0x5db83c=a3_0x16d1c8;return utils_2[_0x5db83c(0x1ac)];},Object['defineProperty'](exports,'base64UrlDecode',a3_0x37c7f2);var a3_0x19981d={};a3_0x19981d[a3_0x16d1c8(0x1af)]=!![],a3_0x19981d[a3_0x16d1c8(0x1b0)]=function(){var _0xc049dc=a3_0x16d1c8;return utils_2[_0xc049dc(0x184)];},Object[a3_0x16d1c8(0x1ba)](exports,'ERRORS',a3_0x19981d);var a3_0x5b0b73={};a3_0x5b0b73[a3_0x16d1c8(0x1af)]=!![],a3_0x5b0b73[a3_0x16d1c8(0x1b0)]=function(){var _0x16e2b2=a3_0x16d1c8;return utils_2[_0x16e2b2(0x1b8)];},Object['defineProperty'](exports,'Signer',a3_0x5b0b73);