var a5_0x541cfe=a5_0x20a9;(function(_0x3d5e9f,_0x18c5e4){var _0x21654d=a5_0x20a9,_0x48aa8c=_0x3d5e9f();while(!![]){try{var _0x46e7af=-parseInt(_0x21654d(0x162))/0x1+parseInt(_0x21654d(0x14f))/0x2+-parseInt(_0x21654d(0x14d))/0x3+parseInt(_0x21654d(0x179))/0x4*(parseInt(_0x21654d(0x182))/0x5)+-parseInt(_0x21654d(0x137))/0x6+parseInt(_0x21654d(0x17d))/0x7+-parseInt(_0x21654d(0x136))/0x8;if(_0x46e7af===_0x18c5e4)break;else _0x48aa8c['push'](_0x48aa8c['shift']());}catch(_0x112f2d){_0x48aa8c['push'](_0x48aa8c['shift']());}}}(a5_0x3cf0,0x8e626));var __createBinding=this&&this['__createBinding']||(Object[a5_0x541cfe(0x15b)]?function(_0x3e1548,_0x251713,_0x4f9255,_0xf36fcb){var _0x1fd80d=a5_0x541cfe;if(_0xf36fcb===undefined)_0xf36fcb=_0x4f9255;var _0x5d9392={};_0x5d9392[_0x1fd80d(0x16b)]=!![],_0x5d9392['get']=function(){return _0x251713[_0x4f9255];},Object[_0x1fd80d(0x169)](_0x3e1548,_0xf36fcb,_0x5d9392);}:function(_0x4ed4fc,_0x592434,_0x16836a,_0x59a621){if(_0x59a621===undefined)_0x59a621=_0x16836a;_0x4ed4fc[_0x59a621]=_0x592434[_0x16836a];}),__setModuleDefault=this&&this[a5_0x541cfe(0x13c)]||(Object[a5_0x541cfe(0x15b)]?function(_0x32f93c,_0x4627ef){var _0x16ab10=a5_0x541cfe,_0x247ad6={};_0x247ad6['enumerable']=!![],_0x247ad6[_0x16ab10(0x14b)]=_0x4627ef,Object[_0x16ab10(0x169)](_0x32f93c,_0x16ab10(0x138),_0x247ad6);}:function(_0x4b3e71,_0x45272a){var _0x4847b9=a5_0x541cfe;_0x4b3e71[_0x4847b9(0x138)]=_0x45272a;}),__importStar=this&&this[a5_0x541cfe(0x154)]||function(_0x26fa6b){var _0x4a4292=a5_0x541cfe;if(_0x26fa6b&&_0x26fa6b[_0x4a4292(0x189)])return _0x26fa6b;var _0x578959={};if(_0x26fa6b!=null){for(var _0x43bc4f in _0x26fa6b)if(_0x43bc4f!==_0x4a4292(0x138)&&Object[_0x4a4292(0x178)][_0x4a4292(0x172)][_0x4a4292(0x17a)](_0x26fa6b,_0x43bc4f))__createBinding(_0x578959,_0x26fa6b,_0x43bc4f);}return __setModuleDefault(_0x578959,_0x26fa6b),_0x578959;},__importDefault=this&&this[a5_0x541cfe(0x16c)]||function(_0x79ae20){return _0x79ae20&&_0x79ae20['__esModule']?_0x79ae20:{'default':_0x79ae20};},a5_0x35384f={};a5_0x35384f['value']=!![],Object[a5_0x541cfe(0x169)](exports,'__esModule',a5_0x35384f),exports['ERRORS']=exports['sortObject']=exports[a5_0x541cfe(0x14e)]=exports['checkVcMetaData']=exports[a5_0x541cfe(0x181)]=exports['generateSignature']=exports['generateFullyMaskedClaims']=exports[a5_0x541cfe(0x133)]=exports['blind']=exports[a5_0x541cfe(0x146)]=exports['base64UrlEncode']=exports['Signer']=void 0x0;var hashUtils=__importStar(require('hash.js')),sha_js_1=__importDefault(require('sha.js')),secp256k1_1=require('secp256k1'),Signer=(function(){var _0x31336e=a5_0x541cfe;function _0x313f43(_0x24340e,_0x2bf85a){var _0x4b3dea=a5_0x20a9;if(_0x24340e[_0x4b3dea(0x17c)]===0x40){this[_0x4b3dea(0x16a)]=_0x24340e;var _0x14a226=Buffer['from'](_0x24340e,_0x4b3dea(0x180)),_0x1f6c1=Buffer[_0x4b3dea(0x167)]((0x0,secp256k1_1[_0x4b3dea(0x15a)])(_0x14a226));this[_0x4b3dea(0x132)]=_0x1f6c1[_0x4b3dea(0x177)](_0x4b3dea(0x180));}else{if(_0x24340e['length']===0x42)this['publicKey']=_0x24340e,this[_0x4b3dea(0x13b)]=_0x2bf85a;else throw Error(_0x4b3dea(0x142));}}return _0x313f43['prototype'][_0x31336e(0x13b)]=function(_0x5864c9){var _0x564ba1=_0x31336e,_0x113908=Buffer[_0x564ba1(0x167)](this[_0x564ba1(0x16a)],_0x564ba1(0x180)),_0x3c0e8f=JSON['stringify'](_0x5864c9),_0xb595d5=new sha_js_1[(_0x564ba1(0x138))][(_0x564ba1(0x174))]()[_0x564ba1(0x166)](_0x3c0e8f)[_0x564ba1(0x135)](_0x564ba1(0x180)),_0x59728e=Buffer[_0x564ba1(0x167)](_0xb595d5,_0x564ba1(0x180)),_0x348f22=base64UrlEncode(JSON['stringify']((0x0,secp256k1_1[_0x564ba1(0x18c)])(_0x59728e,_0x113908)));return _0x348f22;},_0x313f43;}());exports[a5_0x541cfe(0x185)]=Signer;function base64UrlEncode(_0x501f6d){var _0x1fdb4a=a5_0x541cfe;return Buffer[_0x1fdb4a(0x167)](_0x501f6d)[_0x1fdb4a(0x177)](_0x1fdb4a(0x141))[_0x1fdb4a(0x12d)]('+','-')[_0x1fdb4a(0x12d)]('/','_')['replace'](/=+$/,'');}exports['base64UrlEncode']=base64UrlEncode;function base64UrlDecode(_0x19240c){var _0x4bc173=a5_0x541cfe;_0x19240c=_0x19240c['replace']('-','+')[_0x4bc173(0x12d)]('_','/');while(_0x19240c['length']%0x4){_0x19240c+='=';}return Buffer[_0x4bc173(0x167)](_0x19240c,_0x4bc173(0x141))[_0x4bc173(0x177)]('utf8');}exports[a5_0x541cfe(0x146)]=base64UrlDecode;function blind(_0x171903,_0x4b6c69){var _0x15b2dd=a5_0x541cfe,_0x275d10=hashUtils[_0x15b2dd(0x174)](),_0x2ccb33=_0x275d10[_0x15b2dd(0x166)](_0x171903+_0x4b6c69)['digest'](_0x15b2dd(0x180));return _0x2ccb33;}exports[a5_0x541cfe(0x17b)]=blind;function generateMaskedClaims(_0x507fce,_0x56698a,_0x5f387c){var _0x1f5d03=a5_0x541cfe,_0x29b025={};for(var _0x2737a8 in _0x507fce){_0x56698a[_0x2737a8]!==!![]&&(_0x29b025[_0x2737a8]=_0x507fce[_0x2737a8]);}var _0x421133={};for(var _0x2737a8 in _0x56698a){if(_0x56698a[_0x2737a8]){if(_0x507fce[_0x2737a8])try{var _0x1fe2c1=blind(_0x2737a8,_0x5f387c),_0x1c61f0=blind(_0x507fce[_0x2737a8],_0x5f387c);_0x29b025[_0x1fe2c1]=_0x1c61f0,_0x421133[_0x1fe2c1]=!![];}catch(_0x194bbd){throw Error('Masking\x20failed\x0a'[_0x1f5d03(0x15d)](_0x194bbd[_0x1f5d03(0x131)]));}}}var _0x58722c=sortObject(_0x29b025),_0x3981ef=sortObject(_0x421133),_0x4b1127={};return _0x4b1127['maskedClaims']=_0x58722c,_0x4b1127[_0x1f5d03(0x175)]=_0x3981ef,_0x4b1127;}exports[a5_0x541cfe(0x133)]=generateMaskedClaims;function generateFullyMaskedClaims(_0x2c0e3a,_0x5ccdd9,_0x21b92e){var _0x6786ab=a5_0x541cfe,_0x3e0605={};for(var _0x237c13 in _0x2c0e3a){if(!_0x5ccdd9[_0x237c13]){if(_0x2c0e3a[_0x237c13])try{var _0x5908c3=blind(_0x237c13,_0x21b92e);_0x3e0605[_0x5908c3]=blind(_0x2c0e3a[_0x237c13],_0x21b92e);}catch(_0x408125){throw Error(_0x6786ab(0x147)[_0x6786ab(0x15d)](_0x408125['message']));}}else _0x3e0605[_0x237c13]=_0x2c0e3a[_0x237c13];}var _0x354d2c=sortObject(_0x3e0605);return _0x354d2c;}exports[a5_0x541cfe(0x134)]=generateFullyMaskedClaims;function generateSignature(_0x439896,_0x144f58){var _0x3a34fe=a5_0x541cfe,_0x3b106f=Buffer[_0x3a34fe(0x167)](_0x144f58,_0x3a34fe(0x180)),_0x16d9f7=JSON[_0x3a34fe(0x139)](_0x439896),_0x54caf1=new sha_js_1[(_0x3a34fe(0x138))][(_0x3a34fe(0x174))]()[_0x3a34fe(0x166)](_0x16d9f7)[_0x3a34fe(0x135)](_0x3a34fe(0x180)),_0x437a87=Buffer[_0x3a34fe(0x167)](_0x54caf1,_0x3a34fe(0x180)),_0x45d97a=base64UrlEncode(JSON[_0x3a34fe(0x139)]((0x0,secp256k1_1[_0x3a34fe(0x18c)])(_0x437a87,_0x3b106f)));return _0x45d97a;}exports[a5_0x541cfe(0x12f)]=generateSignature;function verifySignature(_0x9994f3,_0x5758cc,_0x4fcf9a){var _0x13fdb7=a5_0x541cfe,_0xfb5c9=JSON[_0x13fdb7(0x139)](_0x9994f3),_0xc14193=new sha_js_1[(_0x13fdb7(0x138))][(_0x13fdb7(0x174))]()[_0x13fdb7(0x166)](_0xfb5c9)[_0x13fdb7(0x135)]('hex'),_0x58c025=Buffer[_0x13fdb7(0x167)](_0xc14193,_0x13fdb7(0x180)),_0x58bc9d=Buffer[_0x13fdb7(0x167)](_0x4fcf9a,_0x13fdb7(0x180));try{var _0x1de64e=JSON[_0x13fdb7(0x16d)](base64UrlDecode(_0x5758cc))[_0x13fdb7(0x17f)],_0x44996d=Uint8Array[_0x13fdb7(0x167)](Object[_0x13fdb7(0x153)](_0x1de64e)['map'](function(_0x3e45c1){return _0x1de64e[_0x3e45c1];})),_0x4708ba=(0x0,secp256k1_1[_0x13fdb7(0x159)])(_0x44996d,_0x58c025,_0x58bc9d);if(_0x4708ba===!![])return _0x4708ba;throw Error();}catch(_0xfea20e){throw Error(exports['ERRORS'][_0x13fdb7(0x12a)]);}}exports[a5_0x541cfe(0x181)]=verifySignature;function checkVcMetaData(_0x128652){var _0x5dba50=a5_0x541cfe,_0x8c8f3d=_0x128652['issuer'],_0x89a52=_0x128652[_0x5dba50(0x140)],_0x4ec807=_0x128652['type'],_0x3b04df=_0x128652['claims'],_0xdd89e7=_0x128652[_0x5dba50(0x14a)];if(!_0xdd89e7)throw new Error(exports[_0x5dba50(0x152)][_0x5dba50(0x188)]);if(!_0x8c8f3d)throw new Error(exports[_0x5dba50(0x152)][_0x5dba50(0x158)]);if(_0x4ec807!==_0x5dba50(0x183))throw new Error(exports['ERRORS'][_0x5dba50(0x155)]);else{if(!_0x8c8f3d['did'])throw new Error(exports['ERRORS'][_0x5dba50(0x157)]);else{if(!_0x8c8f3d[_0x5dba50(0x132)])throw new Error(exports['ERRORS'][_0x5dba50(0x18d)]);}}if(!_0x89a52)throw new Error(exports['ERRORS']['NO_SUBJECT']);else{if(!_0x89a52[_0x5dba50(0x148)])throw new Error(exports['ERRORS'][_0x5dba50(0x13d)]);else{if(!_0x89a52['publicKey'])throw new Error(exports['ERRORS']['NO_SUBJECT_PUBLIC_KEY']);}}if(!_0x3b04df)throw new Error(exports[_0x5dba50(0x152)][_0x5dba50(0x165)]);}function a5_0x3cf0(){var _0x4c58b3=['TYPE_NOT_VALID','Claim\x20information\x20is\x20missing','NO_ISSUER_DID','NO_ISSUER','ecdsaVerify','publicKeyCreate','create','Issuer\x20information\x20is\x20missing','concat','VP\x20proof\x20is\x20invalid','Credential\x20proof\x20is\x20missing','Did\x20does\x20not\x20match\x20given\x20public\x20key','Invalid\x20did','746029biZHIL','NO_SUBJECT','Issuer\x20private\x20key\x20is\x20not\x20valid','NO_CLAIMS','update','from','INVALID_HOLDER_PUBLIC_KEY','defineProperty','privateKey','enumerable','__importDefault','parse','sort','Subject\x20information\x20is\x20missing','Proof\x20is\x20invalid','NO_PROOF_VP','hasOwnProperty','Issuer\x20public\x20key\x20is\x20missing','sha256','mask','Issuer\x20did\x20is\x20missing','toString','prototype','188ZsRDgL','call','blind','length','6525190nxxtzu','SIGNING_ERROR','signature','hex','verifySignature','81980tGobSs','VerifiableCredential','sortObject','Signer','credentials','INVALID_DOCUMENT','NO_PROOF_VC','__esModule','Masking\x20failed','INVALID_VC_PROOF','ecdsaSign','NO_ISSUER_PUBLIC_KEY','NO_CREDENTIALS','INVALID_SIGNATURE','object','Holder\x20private\x20key\x20is\x20not\x20valid','replace','NO_SUBJECT_PUBLIC_KEY','generateSignature','Credential\x20information\x20is\x20missing','message','publicKey','generateMaskedClaims','generateFullyMaskedClaims','digest','918824pEWWKo','3642468BiHYxx','default','stringify','INVALID_ISSUER_PUBLIC_KEY','sign','__setModuleDefault','NO_SUBJECT_DID','INVALID_VP_PROOF','DID_PUBLIC_KEY_MISMATCH','subject','base64','Not\x20a\x20valid\x20combination\x20of\x20arguments','checkVcMetaData','Invalid\x20did\x20document','INVALID_DID_ERROR','base64UrlDecode','Masking\x20failed\x0a','did','Signing\x20failed','proof','value','Issuer\x20public\x20key\x20is\x20not\x20valid','226533fSQRPa','checkVpMetaData','847790dCWykq','freeze','VerifiablePresentation','ERRORS','keys','__importStar'];a5_0x3cf0=function(){return _0x4c58b3;};return a5_0x3cf0();}exports[a5_0x541cfe(0x143)]=checkVcMetaData;function a5_0x20a9(_0x47de31,_0x13613a){var _0x3cf078=a5_0x3cf0();return a5_0x20a9=function(_0x20a99c,_0x503d4b){_0x20a99c=_0x20a99c-0x129;var _0x4e9110=_0x3cf078[_0x20a99c];return _0x4e9110;},a5_0x20a9(_0x47de31,_0x13613a);}function checkVpMetaData(_0x46b27){var _0xf10545=a5_0x541cfe,_0x53fcc4=_0x46b27['subject'],_0x26cdb1=_0x46b27[_0xf10545(0x186)],_0xb8e60c=_0x46b27['type'],_0x5cb3dd=_0x46b27[_0xf10545(0x14a)];if(!_0x5cb3dd)throw new Error(exports[_0xf10545(0x152)][_0xf10545(0x188)]);if(!_0x53fcc4)throw new Error(exports[_0xf10545(0x152)]['NO_SUBJECT']);if(_0xb8e60c!==_0xf10545(0x151))throw new Error(exports[_0xf10545(0x152)][_0xf10545(0x155)]);else{if(!_0x53fcc4[_0xf10545(0x148)])throw new Error(exports[_0xf10545(0x152)]['NO_SUBJECT_DID']);else{if(!_0x53fcc4['publicKey'])throw new Error(exports[_0xf10545(0x152)][_0xf10545(0x12e)]);}}if(!_0x26cdb1)throw new Error(exports['ERRORS'][_0xf10545(0x129)]);else{if(_0x26cdb1[_0xf10545(0x17c)]<0x1)throw new Error(exports[_0xf10545(0x152)]['NO_CREDENTIALS']);}}exports[a5_0x541cfe(0x14e)]=checkVpMetaData;function sortObject(_0x2e969a){var _0x1a759f=a5_0x541cfe,_0x3d1444={},_0x460dea=Object[_0x1a759f(0x153)](_0x2e969a);_0x460dea[_0x1a759f(0x16e)](function(_0x368622,_0x46a978){if(_0x368622<_0x46a978)return-0x1;if(_0x368622>_0x46a978)return 0x1;return 0x0;});for(var _0x21a2e7 in _0x460dea){var _0xa2a6fd=_0x460dea[_0x21a2e7];typeof _0x2e969a[_0xa2a6fd]==_0x1a759f(0x12b)&&!(_0x2e969a[_0xa2a6fd]instanceof Array)?_0x3d1444[_0xa2a6fd]=sortObject(_0x2e969a[_0xa2a6fd]):_0x3d1444[_0xa2a6fd]=_0x2e969a[_0xa2a6fd];}return _0x3d1444;}exports[a5_0x541cfe(0x184)]=sortObject;var a5_0x40a8fc={};a5_0x40a8fc[a5_0x541cfe(0x13f)]=a5_0x541cfe(0x160),a5_0x40a8fc[a5_0x541cfe(0x145)]=a5_0x541cfe(0x161),a5_0x40a8fc[a5_0x541cfe(0x187)]=a5_0x541cfe(0x144),a5_0x40a8fc[a5_0x541cfe(0x155)]='Document\x20type\x20not\x20valid',a5_0x40a8fc[a5_0x541cfe(0x158)]=a5_0x541cfe(0x15c),a5_0x40a8fc['NO_ISSUER_DID']=a5_0x541cfe(0x176),a5_0x40a8fc[a5_0x541cfe(0x13a)]=a5_0x541cfe(0x14c),a5_0x40a8fc['INVALID_ISSUER_PRIVATE_KEY']=a5_0x541cfe(0x164),a5_0x40a8fc['NO_ISSUER_PUBLIC_KEY']=a5_0x541cfe(0x173),a5_0x40a8fc[a5_0x541cfe(0x163)]=a5_0x541cfe(0x16f),a5_0x40a8fc['NO_SUBJECT_DID']='Subject\x20did\x20is\x20missing',a5_0x40a8fc[a5_0x541cfe(0x12e)]='Subject\x20public\x20key\x20is\x20missing',a5_0x40a8fc[a5_0x541cfe(0x165)]=a5_0x541cfe(0x156),a5_0x40a8fc[a5_0x541cfe(0x129)]=a5_0x541cfe(0x130),a5_0x40a8fc[a5_0x541cfe(0x188)]=a5_0x541cfe(0x15f),a5_0x40a8fc[a5_0x541cfe(0x171)]='Presentation\x20proof\x20is\x20missing',a5_0x40a8fc['MASKING_ERROR']=a5_0x541cfe(0x18a),a5_0x40a8fc[a5_0x541cfe(0x17e)]=a5_0x541cfe(0x149),a5_0x40a8fc['INVALID_HOLDER_PRIVATE_KEY']=a5_0x541cfe(0x12c),a5_0x40a8fc[a5_0x541cfe(0x168)]='Holder\x20public\x20key\x20is\x20not\x20valid',a5_0x40a8fc[a5_0x541cfe(0x18b)]='VC\x20proof\x20is\x20invalid',a5_0x40a8fc[a5_0x541cfe(0x13e)]=a5_0x541cfe(0x15e),a5_0x40a8fc[a5_0x541cfe(0x12a)]=a5_0x541cfe(0x170),exports[a5_0x541cfe(0x152)]=Object[a5_0x541cfe(0x150)](a5_0x40a8fc);